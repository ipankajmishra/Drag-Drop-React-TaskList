{"ast":null,"code":"import _assertThisInitialized from \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nvar _jsxFileName = \"/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/src/components/DragAndDrop.js\",\n    _this5 = this;\n\nimport React from \"react\";\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.onDrop = function (e) {\n      if (_this.isValidDragTarget(_this.state.dragTarget)) {\n        e.preventDefault();\n        var elementId = e.dataTransfer.getData(\"text/plain\");\n\n        _this.moveElement(elementId);\n      }\n    };\n\n    _this.moveElement = function (id) {\n      var sourceElements = _this.state.elements[_this.state.dragSource].filter(function (e) {\n        return e !== id;\n      });\n\n      var array = _this.state.elements;\n      array[_this.state.dragSource] = sourceElements;\n      var targetArr = array[_this.state.dragTarget];\n      targetArr.push(id);\n      array[_this.state.dragTarget] = targetArr;\n\n      _this.setState(function (state) {\n        return {\n          elements: array,\n          dragSource: null,\n          dragTarget: null\n        };\n      });\n    };\n\n    _this.onDragStart = function (source) {\n      _this.setState({\n        dragSource: source\n      });\n    };\n\n    _this.onDragOver = function (e, id) {\n      if (_this.isDragTarget(id)) {\n        e.preventDefault(); // activate drop zone\n      }\n    };\n\n    _this.onDragLeave = function (e, id) {\n      if (id === _this.state.dragTarget) {\n        _this.setState({\n          dragTarget: null\n        });\n      }\n    };\n\n    _this.onDragExit = function () {};\n\n    _this.onChangeTaskToAdd = function (e) {\n      _this.setState({\n        taskToAdd: e.target.value\n      });\n    };\n\n    _this.onChangeNewListItem = function (e) {\n      _this.setState({\n        titleName: e.target.value\n      });\n    };\n\n    _this.addTask = function (key) {\n      var arr = _this.state.elements;\n      arr[key].push(_this.state.taskToAdd);\n\n      _this.setState({\n        elements: arr\n      });\n    };\n\n    _this.addNewList = function () {\n      var arr = _this.state.elements;\n      var titles = _this.state.titles;\n      titles.push(_this.state.titleName);\n      arr.push([]);\n\n      _this.setState({\n        elements: arr,\n        titles: titles\n      });\n    };\n\n    _this.onDragEnd = function () {\n      _this.setState({\n        dragSource: null,\n        dragTarget: null\n      });\n    };\n\n    _this.isValidDragTarget = function (id) {\n      return id !== _this.state.dragSource;\n    };\n\n    _this.isDragTarget = function (id) {\n      return id === _this.state.dragTarget && _this.state.dragTarget !== null;\n    };\n\n    _this.isDragSource = function (id) {\n      return id === _this.state.dragSource;\n    };\n\n    _this.init();\n\n    _this.state = {\n      elements: [],\n      titles: [],\n      dragSource: null,\n      dragTarget: null,\n      taskToAdd: \"\",\n      titleName: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"init\",\n    value: function init() {\n      require(\"./DragAndDrop.css\");\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(e, id) {\n      if (this.isValidDragTarget(id)) {\n        console.log(\"set target: \" + id);\n        this.setState({\n          dragTarget: id\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var data = this.state.elements.map(function (data, key) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\",\n          style: {\n            display: \"\",\n            marginBottom: \"10px\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          placeholder: \"Enter new item\",\n          onChange: function onChange(e) {\n            return _this2.onChangeTaskToAdd(e, key);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 9\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this2.addTask(key);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 11\n          }\n        }, \"Add\")), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }\n        }, _this2.state.titles[key])), /*#__PURE__*/React.createElement(DragAndDrop, {\n          elements: data,\n          id: key,\n          onDrop: _this2.onDrop,\n          onDragStart: _this2.onDragStart,\n          onDragEnter: _this2.onDragEnter,\n          onDragOver: _this2.onDragOver,\n          onDragLeave: _this2.onDragLeave,\n          onDragExit: _this2.onDragExit,\n          onDragEnd: _this2.onDragEnd,\n          isDragTarget: _this2.isDragTarget,\n          isDragSource: _this2.isDragSource,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }\n        }));\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginBottom: \"50px\",\n          marginLeft: \"10px\",\n          marginTop: \"10px\",\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: function onChange(e) {\n          return _this2.onChangeNewListItem(e);\n        },\n        placeholder: \"Enter new List\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.addNewList();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 7\n        }\n      }, \"Add\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }\n      }, data)));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar DragAndDrop = /*#__PURE__*/function (_React$Component2) {\n  _inherits(DragAndDrop, _React$Component2);\n\n  function DragAndDrop(props) {\n    var _this3;\n\n    _classCallCheck(this, DragAndDrop);\n\n    console.log(\"Creating component \" + props.id);\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(DragAndDrop).call(this, props));\n    _this3.onDragStart = _this3.onDragStart.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.onDragEnd = _this3.onDragEnd.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.onDragEnter = _this3.onDragEnter.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.onDragLeave = _this3.onDragLeave.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.onDrop = _this3.onDrop.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.onDragOver = _this3.onDragOver.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    return _this3;\n  }\n\n  _createClass(DragAndDrop, [{\n    key: \"onDragOver\",\n    value: function onDragOver(e) {\n      this.props.onDragOver(e, this.props.id);\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(e) {\n      this.props.onDragEnter(e, this.props.id);\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(e) {\n      if (e.target.id === this.props.id) {\n        this.props.onDragLeave(e, this.props.id);\n      }\n    }\n  }, {\n    key: \"onDragExit\",\n    value: function onDragExit(e) {}\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(e) {\n      this.props.onDragStart(this.props.id);\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd(e) {\n      this.props.onDragEnd();\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(e) {\n      this.props.onDrop(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var focused = this.props.isDragTarget(this.props.id) ? \"drag-enter\" : \"\";\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        id: this.props.id,\n        key: this.props.id,\n        className: \"drag-and-drop-wrapper \" + focused,\n        onDragStart: this.onDragStart,\n        onDragEnd: this.onDragEnd,\n        onDragEnter: this.onDragEnter,\n        onDragLeave: function onDragLeave(e) {\n          return _this4.onDragLeave(e);\n        },\n        onDrop: this.onDrop,\n        onDragOver: this.onDragOver,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 7\n        }\n      }, this.props.elements.map(function (e) {\n        return /*#__PURE__*/React.createElement(DragAndDropElement, {\n          key: e,\n          element: e,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 11\n          }\n        });\n      })));\n    }\n  }]);\n\n  return DragAndDrop;\n}(React.Component);\n\nvar DragAndDropElement = function DragAndDropElement(_ref) {\n  var element = _ref.element;\n\n  var onDragStart = function onDragStart(e) {\n    e.dataTransfer.setData(\"text/plain\", e.target.id);\n    e.dropEffect = \"move\";\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: element,\n    id: element,\n    className: \"row\",\n    draggable: true,\n    onDragStart: onDragStart,\n    __self: _this5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Drag, {\n    __self: _this5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }), \" \", element);\n};\n\nvar Drag = function Drag() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drag\",\n    __self: _this5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 10\n    }\n  }, \"||| \");\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/panmishr3/Downloads/reactjs-drag-and-drop-forked/src/components/DragAndDrop.js"],"names":["React","App","props","onDrop","e","isValidDragTarget","state","dragTarget","preventDefault","elementId","dataTransfer","getData","moveElement","id","sourceElements","elements","dragSource","filter","array","targetArr","push","setState","onDragStart","source","onDragOver","isDragTarget","onDragLeave","onDragExit","onChangeTaskToAdd","taskToAdd","target","value","onChangeNewListItem","titleName","addTask","key","arr","addNewList","titles","onDragEnd","isDragSource","init","require","console","log","data","map","display","marginBottom","onDragEnter","marginLeft","marginTop","Component","DragAndDrop","bind","focused","DragAndDropElement","element","setData","dropEffect","Drag"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.init();\n    this.state = {\n      elements: [],\n    titles:[],\n    dragSource: null,\n    dragTarget: null,\n    taskToAdd: \"\",\n    titleName:\"\"\n    }\n  }\n\n  init() {\n    require(\"./DragAndDrop.css\");\n  }\n\n  onDrop=(e)=> {\n    if (this.isValidDragTarget(this.state.dragTarget)) {\n      e.preventDefault();\n      const elementId = e.dataTransfer.getData(\"text/plain\");\n      this.moveElement(elementId);\n    }\n  }\n\n  moveElement=(id)=> {\n    const sourceElements = this.state.elements[this.state.dragSource].filter(\n      (e) => e !== id\n    );\n    let array = this.state.elements;\n    array[this.state.dragSource] = sourceElements;\n    let targetArr = array[this.state.dragTarget];\n    targetArr.push(id);\n    array[this.state.dragTarget] = targetArr;\n    this.setState((state) => ({\n      elements: array,\n      dragSource: null,\n      dragTarget: null\n    }));\n  }\n\n  onDragStart=(source)=> {\n    this.setState({ dragSource: source });\n  }\n\n  onDragEnter(e, id) {\n    if (this.isValidDragTarget(id)) {\n      console.log(\"set target: \" + id);\n      this.setState({ dragTarget: id });\n    }\n  }\n\n  onDragOver=(e, id)=> {\n    if (this.isDragTarget(id)) {\n      e.preventDefault(); // activate drop zone\n    }\n  }\n\n  onDragLeave=(e, id)=> {\n    if (id === this.state.dragTarget) {\n      this.setState({ dragTarget: null });\n    }\n  }\n\n  onDragExit=() =>{}\n\n  onChangeTaskToAdd = (e) => {\n    this.setState({\n      taskToAdd: e.target.value\n    });\n  };\n\n  onChangeNewListItem = (e) => {\n    this.setState({\n      titleName: e.target.value\n    });\n  };\n\n  addTask = (key) => {\n    let arr = this.state.elements;\n    arr[key].push(this.state.taskToAdd);\n    this.setState({\n      elements: arr\n    });\n  };\n\n  addNewList=()=>{\n    let arr = this.state.elements;\n    let titles = this.state.titles;\n    titles.push(this.state.titleName);\n    arr.push([]);\n    this.setState({\n      elements:arr,\n      titles\n    })\n      \n  }\n\n  onDragEnd=()=> {\n    this.setState({ dragSource: null, dragTarget: null });\n  }\n\n  isValidDragTarget=(id) =>{\n    return id !== this.state.dragSource;\n  }\n\n  isDragTarget=(id) =>{\n    return id === this.state.dragTarget && this.state.dragTarget !== null;\n  }\n\n  isDragSource=(id)=> {\n    return id === this.state.dragSource;\n  }\n\n  render() {\n    const data = this.state.elements.map((data, key) => {\n      return (\n        <>\n        \n        <div className=\"\" style={{display:\"\", marginBottom:\"10px\"}}>\n        <input\n            placeholder=\"Enter new item\"\n            onChange={(e) => this.onChangeTaskToAdd(e, key)}\n          />\n          <button onClick={() => this.addTask(key)}>Add</button>\n        </div>\n        <div>\n          <h3>{this.state.titles[key]}</h3>\n        </div>\n         \n          <DragAndDrop\n            elements={data}\n            id={key}\n            onDrop={this.onDrop}\n            onDragStart={this.onDragStart}\n            onDragEnter={this.onDragEnter}\n            onDragOver={this.onDragOver}\n            onDragLeave={this.onDragLeave}\n            onDragExit={this.onDragExit}\n            onDragEnd={this.onDragEnd}\n            isDragTarget={this.isDragTarget}\n            isDragSource={this.isDragSource}\n          />\n        </>\n      );\n    });\n    return (\n      <>\n       <div style={{marginBottom:\"50px\", marginLeft:\"10px\", marginTop:\"10px\", display:\"flex\"}}>\n      <input onChange={(e)=>this.onChangeNewListItem(e)} placeholder=\"Enter new List\" />\n      <button onClick={() => this.addNewList()}>Add</button>\n      </div>\n        <div className=\"wrapper\">\n          <div style={{ display: \"\" }}>{data}</div>\n          {/* <div>\n            <pre>{JSON.stringify(this.state, null, 1)}</pre>\n          </div> */}\n        </div>\n      </>\n    );\n  }\n}\n\nclass DragAndDrop extends React.Component {\n  constructor(props) {\n    console.log(\"Creating component \" + props.id);\n    super(props);\n    this.onDragStart = this.onDragStart.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n  }\n\n  onDragOver(e) {\n    this.props.onDragOver(e, this.props.id);\n  }\n\n  onDragEnter(e) {\n    this.props.onDragEnter(e, this.props.id);\n  }\n\n  onDragLeave(e) {\n    if (e.target.id === this.props.id) {\n      this.props.onDragLeave(e, this.props.id);\n    }\n  }\n\n  onDragExit(e) {}\n\n  onDragStart(e) {\n    this.props.onDragStart(this.props.id);\n  }\n\n  onDragEnd(e) {\n    this.props.onDragEnd();\n  }\n\n  onDrop(e) {\n    this.props.onDrop(e);\n  }\n\n  render() {\n    const focused = this.props.isDragTarget(this.props.id) ? \"drag-enter\" : \"\";\n    return (\n      <>\n     \n      <div\n        id={this.props.id}\n        key={this.props.id}\n        className={\"drag-and-drop-wrapper \" + focused}\n        onDragStart={this.onDragStart}\n        onDragEnd={this.onDragEnd}\n        onDragEnter={this.onDragEnter}\n        onDragLeave={(e) => this.onDragLeave(e)}\n        onDrop={this.onDrop}\n        onDragOver={this.onDragOver}\n      >\n        {this.props.elements.map((e) => (\n          <DragAndDropElement key={e} element={e} />\n        ))}\n      </div>\n      </>\n    );\n  }\n}\n\nconst DragAndDropElement = ({ element }) => {\n  const onDragStart = (e) => {\n    e.dataTransfer.setData(\"text/plain\", e.target.id);\n    e.dropEffect = \"move\";\n  };\n  return (\n    <div\n      key={element}\n      id={element}\n      className={\"row\"}\n      draggable={true}\n      onDragStart={onDragStart}\n    >\n      <Drag /> {element}\n    </div>\n  );\n};\n\nconst Drag = () => {\n  return <div className={\"drag\"}>||| </div>;\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}